<div class="main-body">
    <div class="midbox">
            <div class="row path">
                    <ol class="breadcrumb" style="margin: 0.5em;">
                        <li><a routerLink="/homepage">交易区</a></li>
                        <li *ngIf="userid!=''"><a routerLink="/myself/myhome">我的主页</a></li>
                        <li class="active">上传商品</li>
                    </ol>
                </div>
                <div class="row">
                    <div class="col-md-7" style="padding: 0;">
                        <div class="row mainbody g-bg-box">
                            <!--预览效果-->
                            <div class="col-md-5 col-sm-12" style="min-width: 250px;">
                                <div class="goods-box">
                                    <span class="label label-primary" style="position:
                                        absolute;padding: 5px;">预览效果</span>
                                    <img class="img-thumbnail" src={{headImgUrl}}>
                                    <div class="row g-sharnk">
                                        <p class="good-name g-sharnk" style="text-align:
                                            center;">{{goodsname}}</p>
                                    </div>
                                    <div class="row good-title g-sharnk">
                                        <p class="good-title">{{title}}</p>
                                    </div>
                                    <div class="row">
                                        <div class="user-date g-sharnk">
                                            <p style="font-size: 1em"><span class="glyphicon
                                                    glyphicon-user"></span> {{username}}</p>
                                            <p style="font-size: 0.9em">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                                {{date}}
                                            </p>
                                        </div>
                                        <div class="price-box">
                                            <div class="goods-price g-sharnk">￥{{price}}</div>
                                        </div>
                                    </div>
            
                                </div><!--good-box end-->
                            </div>
            
                            <!--封面设置-->
                            <div class="col-md-7 col-sm-12" style="max-width: 430px;">
                                <div class="panel panel-primary" style="clear: both;">
                                    <div class="panel-heading">基本设置</div>
                                    <dl class="setting-box">
                                        <dt>
                                            <form enctype="multipart/form-data">
                                                <input type="file" class="hidden" id="upload">
                                                <button class="btn btn-default selectimg" id="heading" (click)="selectImg()">选择封面</button>
                                                <button id="uploadbtn" class="hidden" (click)="uploadcover()"></button>
                                                <span id="filename"></span>
                                            </form>
                                        </dt>
            
                                        <input [(ngModel)]="goodsname" type="text" id="name" maxlength="20" placeholder="商品名称">
                                        <input [(ngModel)]="title" type="text" id="title" maxlength="49" placeholder="商品标题">
                                        <input [(ngModel)]="price" type="number" id="priceinput">
                                        <dt>
                                            <div class="btn-group">
                                                <button type="button" id="btn-type"
                                                    class="btn btn-default dropdown-toggle"
                                                    data-toggle="dropdown"
                                                    aria-haspopup="true">
                                                    物品分类 <span class="caret"></span>
                                                </button>
                                                <ul class="dropdown-menu"
                                                    aria-labelledby="btn-type">
                                                    <li (click)="selecttype('学习用品',0)"><a>学习用品</a></li>
                                                    <li (click)="selecttype('体育用品',1)"><a>体育用品</a></li>
                                                    <li (click)="selecttype('生活用品',2)"><a>生活用品</a></li>
                                                    <li (click)="selecttype('电子产品',3)"><a>电子产品</a></li>
                                                    <li (click)="selecttype('手工diy',4)"><a>手工diy</a></li>
                                                    <li (click)="selecttype('虚拟商品',5)"><a>虚拟商品</a></li>
                                                    <li (click)="selecttype('其他',6)"><a>其他</a></li>
                                                </ul>
                                            </div><!--btn-group-->
                                            <div class="btn-group" *ngIf="usenewtag==false">
                                                <button type="button" id="subtype"
                                                    class="btn btn-default dropdown-toggle"
                                                    data-toggle="dropdown"
                                                    aria-haspopup="true">
                                                    物品标签 <span class="caret"></span>
                                                </button>
                                                <ul class="dropdown-menu">
                                                    <li *ngFor="let rows of typelist"
                                                        (click)="selectTag(rows.tag)"><a>{{rows.tag}}</a></li>
                                                    <li (click)="selectTag('新标签')"><a>添加新标签</a></li>
                                                </ul>
                                            </div><!--btn-group-->
                                            <div *ngIf="usenewtag==true" id="newtypediv">
                                                <input id="newtypeinput" placeholder="新标签名" maxlength="8">
                                            </div>
                                        </dt>
            
                                    </dl>
                                </div><!--pannel-->
                            </div>
            
                        </div>
                    </div>
                    <!--规则说明-->
                    <div class="col-md-5 col-sm-12 upload-rule">
                        <div class="panel panel-default">
                            <div class="panel-heading"><span class="glyphicon
                                    glyphicon-pushpin"></span>上传规则</div>
                            <div class="panel-body">
                                <ul class="list-group">
                                    <li class="list-group-item">由于本站带宽极低,上传封面的图片暂时限制300kb,页面总大小请小于500kb,建议尽量使用图片链接来导入图片</li>
                                    <li class="list-group-item">请设置适当的转让价，标题和标签,发现有意乱填将作删除处理</li>
                                    <li class="list-group-item">禁止发布影响恶略的信息,一旦发现将会直接删除上传者账号</li>
                                    <li class="list-group-item">交易成功后请到个人主页将商品移除</li>
                                    <li class="list-group-item">商品将按照上传时间,作者等级和点赞数量作为排序依据</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row editer" style="background-color: white;z-index: 1; ">
                    <div id="div3"></div>
                </div>
            
                <!--提交行-->
                <div class="row">
                    <span id="uploadcheck">
                        <input id="check" type="checkbox">
                        我已了解并同意上传规则
                    </span>
                </div>
                <div class="row upload_row">
                    <button type="button" id="uploadbtn" class="btn btn-info"
                        (click)="Upload()">上传商品</button>
                </div>
    </div>

</div>
